/**
* Markup.js has created for helping to transfer SEBLOD 3.x template to UIKit html
* by Ilya A.Zhulin 2021
*/
'use strict';document.addEventListener("DOMContentLoaded",function(){function f(c,d){var b=document.createElement(d);b.innerHTML=c.innerHTML;Array.prototype.forEach.call(c.attributes,function(e){b.setAttribute(e.name,e.value)});c.parentNode.insertBefore(b,c);c.parentNode.removeChild(c);return b}parents=document.querySelectorAll(".ui-sortable");parents.forEach(c=>{c.addEventListener("click",function(d){if("svg"==d.target.parentNode.tagName&&(svg=d.target.parentNode,!svg.parentNode.classList.contains("icon-plus"))||
"a"==d.target.parentNode.tagName&&(a=d.target.parentNode,!a.classList.contains("icon-plus")))return!1;setTimeout(function(){c.querySelectorAll("aside").forEach(b=>{points=b.innerHTML.replace(/div/g,"li");points=points.replace(/<span/g,'<a href="#" onclick="return false"');points=points.replace(/<\/span/g,"</a");b.outerHTML='<ul class="uk-float-right uk-iconnav uk-margin-bottom">'+points+"</ul>"});c.querySelectorAll(".collection-group-wrap:not([uk-grid]").forEach(b=>{b.setAttribute("uk-grid","");b.querySelector(".collection-group-form").classList.add("uk-width-expand");
f(b.querySelector("span.icon-minus"),"a");f(b.querySelector("span.icon-plus"),"a");f(b.querySelector("span.icon-circle"),"a");minus=b.querySelector(".collection-group-button").querySelector(".button-del").innerHTML;plus=b.querySelector(".collection-group-button").querySelector(".button-add").innerHTML;drag=b.querySelector(".collection-group-button").querySelector(".button-drag").innerHTML;f(b.querySelector(".collection-group-button"),"ul");b.querySelector(".collection-group-button").classList.add("uk-iconnav");
b.querySelector(".collection-group-button").classList.add("uk-width-auto");b.querySelector(".collection-group-button").innerHTML="<li>"+minus+"</li><li>"+plus+"</li><li>"+drag+"</li>";b.querySelector('input[type="file"]')&&(input=b.querySelector('input[type="file"]').outerHTML,b.querySelector(".collection-group-form").innerHTML='<div uk-form-custom="target: true" class="uk-width-expand">'+input+'<input class="uk-input uk-width-1-1" type="text" placeholder="\u0412\u044b\u0431\u0440\u0430\u0442\u044c" disabled></div>')});
c.querySelectorAll("a.icon-plus:not([uk-icon]").forEach(b=>{b.classList.add("uk-text-success");b.setAttribute("uk-icon","icon: plus-circle")});c.querySelectorAll("a.icon-minus:not([uk-icon]").forEach(b=>{b.classList.add("uk-text-danger");b.setAttribute("uk-icon","icon: minus-circle")});c.querySelectorAll("a.icon-circle:not([uk-icon]").forEach(b=>{b.classList.add("uk-text-primary");b.setAttribute("uk-icon","icon: move")});c.querySelectorAll("span.icon-minus:not([uk-icon]").forEach(b=>{b.classList.add("uk-text-danger");
b.setAttribute("uk-icon","icon: minus-circle")});c.querySelectorAll("span.icon-circle:not([uk-icon]").forEach(b=>{b.classList.add("uk-text-primary");b.setAttribute("uk-icon","icon: move")});c.querySelectorAll("span.icon-plus:not([uk-icon]").forEach(b=>{b.classList.add("uk-text-success");b.setAttribute("uk-icon","icon: plus-circle")});c.childNodes.forEach(b=>{b.classList.add("uk-clearfix");b.classList.add("uk-margin")});c.querySelectorAll(".cck_cgx.cck_cgx_form:not(.uk-width-1-1)").forEach(b=>{b.classList.add("uk-width-1-1");
b.querySelectorAll(".cck_forms.cck_site").forEach(e=>{FirstChild=e.firstElementChild;FirstChild.outerHTML=FirstChild.innerHTML})});(new Map([["input[type=text]","uk-input"],["select","uk-select"],["textarea","uk-textarea"]])).forEach(function(b,e){c.querySelectorAll(e).forEach(g=>{g.classList.add(b);g.parentNode.classList.add("uk-form-controls")})});c.querySelectorAll("label:not(.uk-form-label)").forEach(b=>{b.classList.add("uk-form-label")})},100)})})});

