document.addEventListener("DOMContentLoaded",function(){(new MutationObserver(b=>{for(let l of b)for(let a of l.addedNodes)if(a instanceof HTMLElement&&(a.matches('[class*="cck_form_group_x"]')||a.matches(".ui-sortable > div"))){a.querySelector("aside")?a.querySelector("aside"):a.querySelector(".collection-group-button");var c=a.getAttribute("id")?a.getAttribute("id"):a.querySelector("[id]").getAttribute("id");b=a.closest(".ui-sortable").parentNode.getAttribute("id").replace(/([^_]*)_(.*)/,"$2");
var d=new RegExp(String.raw`.*${b}_+(\d*)`,"gm");d=1*c.replace(d,"$1");let g=d-1;var h=new RegExp(String.raw`(.*)${b}(_+)${d}`,"gm");c.replace(h,"$1"+b+"$2"+g);h=new RegExp(String.raw`\"([^"]*)${b}(_+)${g}\"`,"g");var e=a.previousElementSibling;let k={};a.querySelectorAll("input, textarea, select").forEach(f=>{k[f.id]=f.value});a.innerHTML=e.innerHTML.replace(new RegExp(String.raw`${b}(_+)${g}`,"g"),b+"$1"+d);a.querySelector(".cck_forms.cck_upload_image").remove();for(let f in k)a.querySelector("#"+
f).value=k[f];c=0;e=e.attributes;for(var m=e.length;c<m;c++)a.setAttribute(e[c].nodeName,e[c].value.replace(h,"$1"+b+"$2"+d).replace(b+"["+g+"]",b+"["+d+"]"))}})).observe(document.documentElement,{childList:!0,subtree:!0,characterDataOldValue:!1})});
