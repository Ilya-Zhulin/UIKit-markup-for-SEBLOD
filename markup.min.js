document.addEventListener("DOMContentLoaded",function(){(new MutationObserver(b=>{for(let k of b)for(let a of k.addedNodes)if(a instanceof HTMLElement&&(a.matches('[class*="cck_form_group_x"]')||a.matches(".ui-sortable > div"))){a.querySelector("aside")?a.querySelector("aside"):a.querySelector(".collection-group-button");var c=a.previousElementSibling,g=a.getAttribute("id")?a.getAttribute("id"):a.querySelector("[id]").getAttribute("id"),e=c.getAttribute("id")?c.getAttribute("id"):c.querySelector("[id]").getAttribute("id");
b=a.closest(".ui-sortable").parentNode.getAttribute("id").replace(/([^_]*)_(.*)/,"$2");var f=new RegExp(String.raw`.*${b}_+(\d*)`,"gm");g=1*g.replace(f,"$1");f=1*e.replace(f,"$1");let l=new RegExp(String.raw`\"([^"]*)${b}(_+)${f}\"`,"g"),h={};a.querySelectorAll("input, textarea, select").forEach(d=>{h[d.id]=d.value});a.innerHTML=c.innerHTML.replace(new RegExp(String.raw`${b}(_+)${f}`,"g"),b+"$1"+g);a.querySelectorAll(".cck_forms.cck_upload_image").forEach(d=>{d.remove()});for(let d in h)a.querySelector("#"+
d)&&(a.querySelector("#"+d).value=h[d]);e=0;c=c.attributes;for(var m=c.length;e<m;e++)a.setAttribute(c[e].nodeName,c[e].value.replace(l,"$1"+b+"$2"+g).replace(b+"["+f+"]",b+"["+g+"]"))}})).observe(document.documentElement,{childList:!0,subtree:!0,characterDataOldValue:!1})});
